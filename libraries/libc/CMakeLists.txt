SET(SOURCES assert.c)

# Install library
ADD_LIBRARY(libc ${SOURCES})
INSTALL(TARGETS libc LIBRARY DESTINATION usr/lib)
SET_TARGET_PROPERTIES(libc PROPERTIES PREFIX "")

# Install headers
FILE(GLOB_RECURSE LIBHEADERS RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "*.h")
foreach(HEADER ${LIBHEADERS})
    GET_FILENAME_COMPONENT(SUBDIRECTORY ${HEADER} DIRECTORY)
    install(FILES ${HEADER} DESTINATION usr/include/${SUBDIRECTORY})
endforeach()